01 シェルとコマンド
=================

* `$`記号の後ろに、キーボードから`date`と入力する

  * `date`：日時を扱うコマンド

    * 現在の日付が表示される

```bash
[xxx@localhost ~]$ date
Wed Jan 30 21:03:14 JST 2019
```

* `echo`：コマンドの後ろに指定した文字列を表示することができる

```bash
[xxx@localhost ~]$ echo Hello
Hello
```



## エラーについて

* 存在しないコマンドを入力する

```bash
[xxx@localhost ~]$ abcxyz
bash: abcxyz: command not found...
```

* `abcxyz`というコマンドは存在しないため、見つからずにエラーとなっている

* エラーメッセージをよく読み、その内容をきちんと理解して対処する



## シェルの役割とLinuxカーネル

* Linux内部でコマンドが実行される仕組みは、以下の通り

  1. キーボードから入力された、`date`という文字列を受け取る

  1. `date`という名前のコマンドを探す

  1. 見つかったコマンドを実行する

  1. 実行した結果として、得られた日時の文字列を画面に表示する

* 3.の部分は、Linuxの本体のLinuxカーネルが行う

* カーネルとはOSの中核となる部分であり、CPUやメモリなどのハードウェアを管理すると共に、コマンド実行を処理するプロセスも行なっている

![Linuxカーネルとハードウェア](./images/Linuxカーネルとハードウェア.png)

* Linuxカーネルは直接人間が操作できるようになっていないので、ユーザとカーネルの間にユーザインタフェースを持つソフトウェアが必要

  * 「シェル」：カーネルのインターフェースとなっているソフトウェア

* 先ほどの例では、

  1. シェルは`date`というキーボードからの入力を受け取る

  1. それを、「`date`というコマンドを実行せよ」というユーザからの指示だと解釈する

  1. シェルは、`date`という文字列が指すコマンド(`/usr/bin/date`)を探し出す

  1. そのコマンドを指定して、Linuxカーネルに実行を依頼する

  1. Linuxカーネルがコマンド実行を終了すると、シェルはその結果を受け取ってユーザの画面に出力する

![シェルはユーザとLinuxカーネルの橋渡しを行う](./images/シェルはユーザとLinuxカーネルの橋渡しを行う.png)



## なぜカーネルとシェルが分かれているのか

1. Linuxカーネルには手を入れずに、シェルだけを自分好みに変更することができる

1. Linux以外のOS(FreeBSDやNetBSD、Solarisなど)を利用する際も、シェルが移植されていれば同様に行うことができる

1. シェルがエラーや高負荷状態になってクラッシュしたとしても、OS本体であるLinuxカーネルへの影響を最小限に抑えることができる

* Linuxの、

  「1つのプログラムには、1つのことをうまくやらせる」

  という考え方を汲み取れる

* 1つのプログラムにあれもこれもと機能を詰め込まず、機能ごとにプログラムを分離しておくことが、ソフトウェア開発においては重要



| 版 |  年/月/日 |
|----|----------|
|初版|2019/01/31|
