03 rmとrmdirコマンド
==================

* `rm`コマンド：ファイル・ディレクトリを削除する

  * 削除するファイル名を指定するときは、`Tab`キーによる補完を使う

```bash
rm [オプション] <削除するファイル名1> <削除するファイル名2> ...
```

* 例)

```bash
$ ls
newfile
$ rm ne
$ rm newfile   # Tabキーの補完
$ ls
$              # ファイルが削除されたので何も起こらない
```



## 複数ファイルの削除

* `rm`コマンドでは、ファイル名を複数指定して一度に削除することができる

* 例)`file1`、`file2`、`file3`という3つのファイルをまとめて削除する

```bash
$ touch file1 file2 file3
$ ls
file1 file2 file3
$ rm file1 file2 file3      # まとめて削除
$ ls
$
```

* パス名展開を利用して、複数ファイルを削除することもある

  * 例)拡張子が`.html`のファイルをまとめて削除する

```bash
$ rm *.html
```



## ディレクトリの削除

* `rm`コマンドでディレクトリを削除しようとすると、エラーとなる

```bash
$ mkdir dir1
$ rm dir1
```

![rmコマンドでのディレクトリ削除エラー](./images/rmコマンドでのディレクトリ削除エラー.png)

* `-r`オプション：再帰的にディレクトリツリーを削除する

  * 削除対象ディレクトリの中のファイルやディレクトリもまとめて削除される

```bash
$ touch dir1/file1 dir1/file2 dir1/file3
$ ls dir1
file1 file2 file3
$ rm -r dir1
$ ls dir1
ls: cannot access dir1: No such file or directory
```



## 削除前の確認

* Linuxの`rm`コマンドでは、ゴミ箱のような機能はない

  => `rm`コマンドを実行するとファイルは本当に削除されてしまう

* `rm`コマンドでは、「本当に削除しますか？」という確認を求めてこない

* `-i`オプション：削除確認を求める

```bash
$ rm -i file1
```
![-iオプション](./images/-iオプション.png)



## 空のディレクトリを削除する

* `rmdir`：からのディレクトリを削除する

  * 引数に削除したいディレクトリ名を指定する

  * 中にファイルがあるディレクトリを削除しようとしてもエラーとなる

```bash
rmdir <ディレクトリ名>
```

* 例)空でないディレクトリに`rmdir`を実行する

```bash
$ rmdir dir1
```

![空でないディレクトリにrmdirする](./images/空でないディレクトリにrmdirする.png)

* 例)ディレクトリdir1の中に隠しファイルを作る

```bash
$ ls dir1
$ rmdir dir1
rmdir: failed to remove 'dir1': Directory not empty
$ ls -a dir1
. .. .hidden
```

* 先頭がドット`.`で始まるファイルは隠しファイルとして扱われるため、`ls`コマンドには`-a`オプションを付けないと隠しファイルが表示されない

* `rmdir`コマンドを使うと、中にファイルが残っていることに気がつかずにディレクトリを誤って削除してしまう事故を防ぐことができる



| 版 |  年/月/日 |
|----|----------|
|初版|2019/02/03|
