2章 Ruby言語仕様
==============

# 2-8.様々な代入式

## 2-8-1.多重代入

* 一度に複数の変数や定数の代入を行う際には、左辺と右辺の式をそれぞれ`,`(カンマ)で区切る多重代入で簡潔に記述できる

```ruby
#
# 変数aに1が、変数bに2が代入
#
>> a, b = 1, 2
=> [1, 2]

>> a
=> 1
>> b
=> 2
```

* 右辺には配列を指定することができる

* 右辺の配列の要素数が左辺の式よりも多い場合、余った要素は無視される

```ruby
#
# 配列からの多重代入(右辺で余った`3`は無視される)
#
>> a, b = [1, 2, 3]
=> [1, 2, 3]

>> a
=> 1
>> b
=> 2
```

* 最後の式に`*`をつけることで、余った要素も配列として代入できる

```ruby
#
# `*`のついた`b`には、右辺で余った要素が配列として代入される
#
>> a, *b = [1, 2, 3]
=> [1, 2, 3]

>> a
=> 1
>> b
=> [2, 3]
```

* 左辺の変数に対応する要素が無い場合、その変数にはnilが代入される

```ruby
#
# 対応する要素が無い`c`には、nilが代入される
#
>> c, d, e = [1, 2]
=> [1, 2]

>> c
=> 1
>> d
=> 2
>> e
=> nil
```

* 多重代入は変数の交換する際にもよく用いられる

```ruby
>> a = 'a'
=> "a"
>> b = 'b'
=> "b"

>> a, b = b, a
=> ["b", "a"]

>> a
=> "b"
>> b
=> "a"
```



## 2-8-2.自己代入

* 演算結果を自身に代入し直す、**自己代入** を行う場合には、

  `=`の前に演算子を記述すると簡素に表現できる

```ruby
>> a = 1
=> 1
>> a += 1   # a = a + 1
=> 2

>> b ||= 2  # b = b || 2
=> 2
```
