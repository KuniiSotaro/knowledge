05 システムパラメータを取得、操作する「sys」
=====================================

* `sys`：Pythonを実行中のシステムに関する情報を取得するための変数を含んだモジュール

  * システムに関する設定を操作するための関数も含んでいる

  * プログラムで利用できる色々な変数などが登録されている

  * スクリプトを途中で終了したい場合に利用する関数(`exit`)も、このモジュールに定義されている



## コマンドライン引数の取得

* `sys.argv`：Pythonのスクリプトを起動したときに与えられた、コマンドライン引数を文字列のリストとして格納した変数

  * Python自体にオプションをつけずに起動した場合は、最初の要素(`argv[0]`)はスクリプトのファイルとなる

  * それ以降の要素に引数が渡される

  * Python自体に「`-c`」などの引数を渡してスクリプトを起動した場合は、「`-c`」が最初の要素になる



## プログラムの終了

* `exit()`；Pythonを終了する

  * 引数には終了ステータスとなる数値を指定する

  * シェルなどでは、

    * `0`：正常終了

    * `0`以外：以上終了

    とみなす

  * `exit()`関数は実際には「SystemExit」という例外を発生させる

  * `exit()`を実行した上位で、例外を捕まえて終了時処理などを行うことができる



## その他の関数や変数

* `getdefaultencoding()`：デフォルトエンコーディングを返す

  * エンコードを暗黙に変換するときに利用するデフォルトエンコーディングを返す

  ```python
  sys.getdefaultencoding()
  ```



### `sys.stdin`、`sys.stdout`、`sys.stderr`

* `sys.stdin`：Pythonが利用している標準入力に対応するファイルオブジェクトを返す

* `sys.stdout`：Pythonが利用している標準入力に対応するファイルオブジェクトを返す

* `sys.stderr`：Pythonが利用しているエラー出力に対応するファイルオブジェクトを返す

  => これらのファイルオブジェクトに対して読み書きを行うメソッドを呼び出すことで、標準入力などをコントロールできる

  * 例)`stdout`をファイルオブジェクト変更すると、`print()`関数が出力を行う対象をファイルに変更できる



### `sys.path`

* モジュールをインポートするときに利用する、検索パスを保持したリスト

* プログラム上で追加などをすることができる



| 版 |  年月日   |
|---|----------|
|初版|2019/02/06|
