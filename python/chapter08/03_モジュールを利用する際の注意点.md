03 モジュールを利用する際の注意点
============================

## from文を使ったインポートの弊害

* from文を使ったパッケージ名やモジュール名を省略したインポートを行うと、モジュールの中に定義された関数や変数を短く記述することができる

* また、from文を使ったインポートでは、アスタリスク`*`を使うことで、モジュールの中に定義された関数や変数を全てインポートできる

  => 一見便利のように見えるが、弊害がある

* 例)Pythonの標準ライブラリの`path`

  * `os.path`：モジュール

  * `os.path`：モジュールを読み込むディレクトリを記録したリスト(変数)

  => これらを

  ```python
  from sys import path
  from os import path
  ```

  のように記述すると、最後に定義されたものが扱われる

  => 予想した動作と異なる動作が生じる

* 特に、アスタリスク`*`を使ったインポートには注意する

  => 知らぬ間にインポートしたモジュールや関数が上書きされてしまう可能性がある



## モジュールの検索順

* Pythonがモジュールをインポートする際には、決まった順番を辿ってモジュールを探す

* もし重複した名前のモジュールがあった場合は、モジュール検索時に優先順位の高い位置にあるモジュールを先に読み込む

  1. ホームディレクトリ

    スクリプトファイルを指定してPythonを起動しているならば、ファイルの置いてあるディレクトリがホームディレクトリとなる

  1. 環境変数`PYTHONPATH`に設定されているディレクトリ

    環境変数`PYTHONPATH`を指定することによって、Pythonがモジュールを読み込む時に検索対象とするディレクトリを指定できる

    環境変数が設定されていない場合は、利用しない

  1. 標準ライブラリのモジュールディレクトリ

    環境によって異なる

    複数バージョンのPythonがインストールされている場合は、バージョンにより別々のディレクトリとなる

  1. 追加のモジュールを設置するためのディレクトリ

    標準ライブラリのモジュールディレクトリにある、「site-packages」ディレクトリを対象に検索を行う

    ここには、追加でインストールしたモジュールを置く



| 版 |  年月日   |
|---|----------|
|初版|2019/02/02|
