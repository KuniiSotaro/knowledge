01 ディクショナリ(辞書)を使う
=========================

## ディクショナリとは

* 要素ごとに情報の性質や種類が異なっているデータは、順番で管理するより、見出しで管理する方が便利

  => 要素にラベルをつける

* Pythonでは、`ディクショナリ(辞書)`を使うことで対応できる

  * ディクショナリを使うと、情報を`見出し`と`値`の対応として管理できる

* Pythonのディクショナリは、以下のように定義する

```python
{キー1: 値1, キー2: 値2}
```

* Pythonでは、ディクショナリの見出しのことを`キー`と呼ぶ

* `キー`と`値`をコロン`:`で区切ったものが1つの要素となる

  => 複数の要素がある場合は、カンマ`,`で区切る

* `キー`には、文字列や数値が使える。ただし、リストを`キー`として登録することができない

* `キー`に対応する値は、文字列や数値はもちろん、他のデータ型も使える

  => リストや、ディクショナリも値として登録できる

```python
purple = {"ニックネーム": "れにちゃん", "出身地": "神奈川県", "キャッチフレーズ": "感電少女"}
```



## キーを使って要素を取り出す

* 変数に入ったディクショナリの要素を取り出すには、`キー`を使う

* ディクショナリに角括弧`[]`を添え、角括弧の中に取り出したい要素の`キー`を指定する

```python
ディクショナリ[要素のキー]
```

* 変数purpleに入っているディクショナリから、出身地を取り出したい時は、次のようにする

```python
>>> print(purple["出身地"])
神奈川県
```

* ディクショナリは、インデックスの代わりに`キー`を使うことで要素を管理する

* ディクショナリは`キー`で要素を管理するデータ型なので、順番という概念がない

  => ディクショナリを表示する時は、文字コード順に並んでいる



## キーを使って要素を入れ替える

* `キー`を使って要素を指定して代入を行うと、ディクショナリの値を入れ替えることができる

  => `キー`に紐づいた`値`を、別の`値`に更新できる

```python
>>> purple["キャッチフレーズ"] = "鍋少女"
>>> purple
{'ニックネーム': 'れにちゃん', '出身地': '神奈川県', 'キャッチフレーズ': '鍋少女'}
```



## 新しいキーと値を追加する

* ディクショナリで、存在しない`キー`を使って代入を行うと、「新しい要素の追加」が行われる

  => ディクショナリに新しい`キー`と`値`を追加したい場合には、代入を使う

* 例)purpleという変数に入っているディクショナリに生年月日の要素を追加する

```python
>>> purple["生年月日"] = "1993年6月21日"
>>> purple
{'ニックネーム': 'れにちゃん', '出身地': '神奈川県', 'キャッチフレーズ': '鍋少女', '生年月日': '1993年6月21日'}
```

* リストでは、要素を後ろに足す、というイメージだが、ディクショナリでは、要素を挿入するイメージ

  => ディクショナリには順番がないため

* 要素の追加には`キー`と`値`をペアで指定する必要がある

  => 新しい`キー`に`値`を代入することで、要素を追加する



## キーを使って要素を削除する

* `del文`：ディクショナリから要素を削除する

* ディクショナリは丸括弧に`キー`を添えて要素を削除する

```python
>>> del purple["ニックネーム"]
>>> purple
{'出身地': '神奈川県', 'キャッチフレーズ': '鍋少女', '生年月日': '1993年6月21日'}
```

* 存在しない`キー`を削除した場合には、エラーが発生する(KeyError)



## キーの存在確認

* `in`演算子：ディクショナリでは、「キーの検索」となる

  => ディクショナリを扱うプログラムでは、頻繁にキーの存在確認をするため

* 例)関数の中でアラビア数字とローマ数字の対応表をディクショナリとして定義する

```python
def convert_number(num):
  # アラビア数字とローマ数字の対応表をディクショナリに定義
  roman_nums = {1: "Ⅰ", 2: "Ⅱ", 3: "Ⅲ", 4: "Ⅳ", 5: "Ⅴ", 6: "Ⅵ", 7: "Ⅶ", 8: "Ⅷ", 9: "Ⅸ"}
  # ディクショナリのキーとして引数の整数が存在していれば、キーに対応する値を戻り値にする
  if num in roman_nums:
    return roman_nums[num]
  else:
    return "[変換できません]"
```

* if文で引数のチェックを行なっている



## キーを使ったループ

* ディクショナリも、for文のシーケンスとして使うことができる

* for文にディクショナリを添えると、`キー`に対するループを組むことができる

  => 繰り返し変数に、`キー`を1つずつ代入しながら、ループを実行できる

```python
>>> purple = {"ニックネーム": "れにちゃん",
...           "出身地": "神奈川県",
...           "キャッチフレーズ": "感電少女",
...           "生年月日": "1993年6月21日"}
>>>
>>> for key in purple:
...   print(key, purple[key])
...
ニックネーム れにちゃん
出身地 神奈川県
キャッチフレーズ 感電少女
生年月日 1993年6月21日
```

* for文でディクショナリの`キー`を取り出すと、文字コード順に並ぶ



| 版 |  年月日   |
|---|----------|
|初版|2019/01/05|
