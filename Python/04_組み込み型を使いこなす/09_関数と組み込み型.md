09 関数と組み込み型
=================

* Pythonの関数では、`return文`を使って関数の外に値を戻すことができる

* 関数で実行する処理によっては、複数の値を戻したい場合がある

  => リストやタプルを戻り値とすると便利

```python
# リストを戻り値として返す関数foo()
# リストを作って戻り値として返す
return [valua, valueb]

# 関数を呼び出す側では、リストを変数に受け取ることができる
alist = foo()

# インデックスを使って、`alist[0]`のようにアクセスできる
```



## 戻り値とアンパック代入

* リストに登録された要素から、最大値、最小値、平均値の3つの値を返す関数`bar()`を定義する

* 関数の最後では、次のようにして3つの戻り値を返す

```python
return [minvalue, maxvalue, average]
```

* 関数の戻り値を受ける側で、`alist`のような変数にリストを受け取るとする

* リストのようなシーケンスを返す関数では、イコールの左側に複数の変数を記述し、戻り値として受け取ることができる

```python
minvalue, maxvalue, average = bar(seq)
```

* 別々の変数に戻り値を代入することで、変数名から変数の内容を容易に判別できるようになる

* このコードでは、`アンパック代入`と同じ仕組みを利用している

  => return文で返されるシーケンスと、受け取る要素の数が合っている必要がある

* return文は、括弧なしで以下のようにも書ける

  => Pythonでは、カンマ`,`を使って複数の要素を区切ると、丸括弧無しでタプルを定義できる

```python
return min, max, average
```



## 関数で引数リストを受け取る

* 関数に渡す引数は、変数の代入と同じような形で引き渡しが行われる

* 関数を定義するdef文では、関数で受け取る引数に名前を付けて定義する

* 関数を呼び出す側では、引数の順番を揃えて値を渡すか、引数の名前を指定して`キーワード引数`として値を渡す



### 可変引数

* 関数で実行する処理の内容によっては、引数として渡す値の数に制限を設けないようにしたい場合がある

* `可変引数`：キーワード指定しない引数をいくつでも受け付けることができる

  * 引数の前にアスタリスク`*`を付ける

  * 追加の引数は、1個のアスタリスクの後に指定した変数にタプルとして代入される

```python
>>> def foo(a, b, *vals):
...   print(a, b, vals)
...

>>> foo(1, 2, 3, 4, 5)
1 2 (3, 4, 5)

>>> foo(1, 2, c=3)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: foo() got an unexpected keyword argument 'c'
```

* 2つ目までの引数は、`a`, `b`という引数に代入される

* その先の引数は、アスタリスクを1個付けた`vals`という変数にタプルとして代入されている

* アスタリスク1個を付けた引数では、「`c=3`」のように「キーワード指定」された追加の引数を受け取ることができない



## 関数でキーワード引数を受け取る

* アスタリスクを2個付けた引数を定義すると、キーワード指定された未定義の引数を受け取れるようになる

```python
>>> def bar(a, b, **args):
...   print(a, b, args)
...

>>> bar(1, 2, c=3, d=4)
1 2 {'c': 3, 'd': 4}
```

* `c=3`、`d=4`というように渡した`未定義の引数`は、`args`という変数にディクショナリとして代入される

* 「`*val`」や「`**args`」のような引数は、引数リストの最後に置くようにする

* また、2種類の引数を一緒の関数に定義することもできる



| 版 |  年月日   |
|---|----------|
|初版|2019/01/20|
