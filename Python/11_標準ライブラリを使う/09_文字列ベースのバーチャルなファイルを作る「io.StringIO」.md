09 文字列ベースのバーチャルなファイルを作る「io.StringIO」
==================================================

* `io.StringIO`はバッファを使って動作する`ファイル風オブジェクト`を作るためのクラス

  * ファイルの読み書きの処理をメモリ上でエミュレーションする、特殊なファイル風のオブジェクトを返す

  * 似たような処理をするクラスと一緒に`io`パッケージの中に移動された

  * ファイルの実体を書き出さずに、ファイルオブジェクトのように`シーク位置`を元にした読み書きの処理を行いたいときに利用する

  * ファイルオブジェクトを引数に渡す必要がある関数を使う際にも利用する

  * 標準ライブラリでは、ネットワーク処理を行う関数などで内部的に利用されている

  * 文字列のバッファを使って動作するファイル風オブジェクトを返す

  * オプションの引数を渡すと、ファイル風のオブジェクトの中身を初期化できる

  * 返ってきたオブジェクトは、ファイルオブジェクトと同じように扱える

  * 読み出し、書き込みともに行える

  ```python
  io.StringIO([初期化用の文字列])
  ```

  * 例)ファイル風オブジェクトを作る

  ```python
  >>> from io import StringIO
  >>> f = StringIO()
  >>> f.write("a"*10)
  10
  >>> f.seek(0)
  0
  >>> f.read()
  'aaaaaaaaaa'
  ```



## ファイル風オブジェクトで利用できるメソッド


* `read()`、`readlines()`、`write()`など、ファイルオブジェクトで使えるメソッドに加えて、

  StringIOが返すファイル風オブジェクト(`F`)では以下のメソッドを利用できる

* `getvalue()`：ファイル風オブジェクトの全ての内容を返す

  * シーク位置に関係なく、ファイルの中身全てを返す

  ```python
  F.getvalue()
  ```

* `close()`：ファイル風オブジェクトを破棄する

  * ファイル風オブジェクトが利用していたメモリを解放する

  ```python
  F.close()
  ```

* `io`パッケージにはバイナリデータを扱うための`BytesIO`というクラスも定義されている

  * 使い方はStringIOとほぼ同じだが、StringIOと違い、エンコードを考慮する必要がなく、どんなデータでも格納できる



| 版 |  年月日   |
|---|----------|
|初版|2019/02/09|
