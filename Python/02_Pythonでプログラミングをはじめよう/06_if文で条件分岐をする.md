06 if文で条件分岐をする
====================

* プログラムで、条件に従って処理の内容を分けることを、「条件分岐」と呼ぶ

* Pythonで条件分岐をするには、`if`文を用いる

* 条件を表す式を「条件式」と呼び、以下の式で表す

* また、if文では、条件によって実行するコードを、インデントしたブロックに記述する

  => また、if文の最後にはコロン`:`を記述する

```python
if 条件式:
  # 条件によって実行するブロック
  # ...
  # ...
```

* Pythonに限らず、プログラムはソースコードの上から下へと順に実行される

  => この流れを変えるような処理のことを、「フロー制御」と呼ぶ

* 例)if文に添えた条件が成り立つ時だけ、ブロック内部の`print()`関数が実行されて、文字が表示される

```python
>>> if 2*2*2+2 == 10:
...   print("2*2*2+2は10")
...
2*2*2+2は10
>>> if 2+2*2+2 == 10:
...   print("2+2*2+2は10")
...
>>> if (2+2)*2+2 == 10:
...   print("(2+2)*2+2は10")
...
(2+2)*2+2は10
```



## 数値を比較する

* 比較演算子」を用いて、数値を比較する

```python
>>> if 1 == 1:
...   print("1番目はTrue")
...
1番目はTrue
>>> if 5^(4-4)+9 == 10:
...   print("2番目はTrue")
...
>>> if 2 < len([0, 1, 2]):
...   print("3番目はTrue")
...
3番目はTrue
>>> if sum([1, 2, 3, 4]) < 10:
...   print("4番目はTrue")
...
```



## 文字列を比較する

* 比較演算子では、数値だけでなく文字列も比較できる

  => 例)`=`(等しい)、`!=`(異なる)のような演算子

* `==`演算子では、左右の文字列が完全に一致する時に条件が成り立つ

```python
>>> if "AUG" == "AUG":
...   print("1番目はTrue")
...
1番目はTrue
>>> if "AUG" == "aug":     # 英字の大文字と小文字を比較しているので、条件式が成り立たない
...   print("2番目はTrue")
...
>>> if "あいう" == "あいう":
...   print("3番目はTrue")
...
3番目はTrue
```



## 文字列を検索する

* ある文字列の中に特定の文字列が含まれるかどうかを調べるには、`in`という演算子を用いる

```python
>>> if "GAG" in "AUGACGGAGCUU":
...   print("1番目はTrue")
...
1番目はTrue
>>> if "恋とはあらゆることが正当化されるのよ" in "正当化":
...   print("2番目はTrue")
...
>>> if "stumble" in "A horse may stumble though he has four legs":
...   print("3番目はTrue")
...
3番目はTrue
```



## リストを比較する

* Pythonでは、if文でリストの要素を簡単に比較できる

* リストでは、`==`(等しい)、`!=`(異なる)、`in`(要素の検索)の3種類の演算子を使う

  => リストと同じく複数の要素を持つ文字列と同じ扱い

* `==`演算子を使ってリストを比較うる場合、1つ1つの要素が **完全に一致** する時だけ条件が成り立つ

* 例)リストを`==`演算子で比較する

```python
>>> if [1, 2, 3, 4] == [1, 2, 3, 4]:
...   print("1番目はTrue")
...
1番目はTrue
>>> if [1, 2, 3] == [2, 3]:
...   print("2番目はTrue")
...
>>> if [1, 2, 3] == ['1', '2', '3']:
...   print("3番目はTrue")
...
```



## リストの要素を検索する

* `in`演算子を用いることで、リストの中に特定の要素があるかないかを調べることができる

* 例)`in`演算子を使ってリストの要素を比較する

```python
>>> if 2 in [2, 3, 5, 7, 11]:
...   print("1番目はTrue")
...
1番目はTrue
>>> if 21 in [13, 17, 19, 23, 29]:
...   print("2番目はTrue")
...
>>> if 'アッサム' in ['ダージリン', 'アッサム', 'オレンジペコ']:
...   print("3番目はTrue")
...
3番目はTrue
```

* ただし、`in`演算子を用いてリストの中に複数の要素が含まれるかどうかを調べることはできない

  => リストの中にはどんな種類のデータを入れることができるため

  => リストの中にリストが入っている場合の検索方法が無くなるので、変えようがない

* 例)リストの中からリストを検索する例

```python
# 実行される例
>>> if 1 in [0, 1, 2, 3, 4]:
...   print("1番目はTrue")
...
1番目はTrue
>>> if [1, 2] in [0, 1, [1, 2], 3, 4]:
...   print("2番目はTrue")
...
2番目はTrue

# 実行されない例
>>> if [1, 2] in [0, 1, 2, 3, 4]:
...   print("3番目はTrue")
...
```



## else文を使う

* 条件が成り立たない場合に実行するブロックを作るには、`else`文を用いる

* `else`文を使うと、`if`文に2つのブロックを持たせることができる

  * `if`文のブロックは条件が成り立つ時に実行される

  * `else`のブロックは条件が成り立たない時に実行される

  => 「AならばB、そうでなければC」と言うような条件でコードを実行できる

```python
if 条件式:
  条件が成り立つ時に実行するブロック
else:
  条件が成り立たなかった時に実行するブロック
```

* 例)

```python
>>> if 2^3-2+4 == 10:
...   print("式1は10")
... else:
...   print("式1は10にならない")
...
式1は10にならない
```



## elif文を使う

* 条件によって処理を振り分ける時(「Aの場合はこの処理、Bの場合はこの処理」)、`else`文の中にもう一つの`if`文を入れ子状にする

```python
>>> a_year = 2080
>>> if a_year >= 1993:
...   if a_year == 1993:
...     print(a_year, "年、れに誕生")
...   else:
...     print(a_year, "年、れに", a_year-1993, "歳")
...
2080 年、れに 87 歳
```

* `print()`関数では、カンマ`,`で区切ることで数値と文字列を渡すことができる

* このコードでは、プログラムが醜くなる



### elif文

* Pythonで複数の条件を処理する

* 「else if」の短縮形

* 比較したい条件がたくさんあるときは、`elif`をいくつも連ねることができる

```python
if 条件式1:
  条件式1が成り立つ時に実行するブロック
elif 条件式2:
  条件式2が成り立つ時に実行するブロック
```

* 先ほどのコードのリファクタリング

```python
>>> a_year = 2080
>>> if a_year == 1993:
...   print(a_year, "年、れに誕生")
... elif a_year > 1993:
...   print(a_year, "年、れに", a_year-1993, "歳")
...
2080 年、れに 87 歳
```



## if文を使った具体的な例

* 例)ループとif文を組み合わせて使い、変数に入っている数が素数かどうかを判定する

```python
>>> a_num = 57
>>> for num in range(2, a_num):
...   if a_num % num == 0:
...     print(a_num, "は素数ではありません")
...     break
...
57 は素数ではありません
```



| 版 |  年月日   |
|---|----------|
|初版|2018/12/24|
