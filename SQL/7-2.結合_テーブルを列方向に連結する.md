7-2 結合(テーブルを列方向に連結する)
===============================

## 学習のポイント

* 「結合(`JOIN`)」とは、別のテーブルから列を持ってきて、「列を増やす」集合演算

  => `UNION`がテーブル同士を行方向(縦方向)に連結するのに対し、結合は列方向(横方向)に連結する

* 「結合」の基本は、「内部結合」と「外部結合」の2種類

* 結合演算の古い書き方や方言は使わず、必ず標準のSQL構文で書く

  => ただし、古い書き方や方言を読めるようにしておく



## 結合とは

* `UNION`や`INTERSECT`などの集合演算子は、「行方向」に作用する

  => それらを使うと行数が増えたり、減ったりする

    * `UNION`：行数が増える

    * `INTERSECT`・`EXCEPT`：行数が減る

  => 列数を変化させる力はない(列数が一致していることが集合演算の条件であるため)

* 「結合(`JOIN`)」：

  * 別のテーブルから列を持ってきて、「列を増やす」操作

  * 役に立つ場面として、欲しいデータ(列)が1つのテーブルだけからでは操作できない場合

    => 実際には欲しいデータが複数のテーブルに分散されていることが多いので

  * 3つ以上のテーブルからデータを選択することが可能

![結合のイメージ](./images/結合のイメージ.png)

* SQLの結合としては、「内部結合」と「外部結合」の2種類の結合を押さえておく



## 内部結合：INNER JOIN

* `INNER JOIN`：内部結合

* Shohinテーブル、TenpoShohinテーブルを用いて考える

* これらの2つのテーブルの列は、2つのグループに分類される

  1. どちらのテーブルにも存在する列

    => 商品ID

  1. 片方のテーブルにしか存在しない列

    => 商品ID以外の列

|       |Shohin|TenpoShohin|
|-------|------|-----------|
|商品ID  |  ◯   |     ◯     |
|商品名  |  ◯   |           |
|商品分類|   ◯  |           |
|販売単価|   ◯  |           |
|仕入単価|   ◯  |           |
|登録日  |   ◯  |           |
|店舗ID  |      |     ◯     |
|店舗名  |      |     ◯     |
|数量    |      |     ◯     |

* 結合とは、一言で言うと、「1.に属する列を橋渡しの"橋"に使って、2.に属する列同士を一緒の結果に含めてしまうこと」

* 例)

  * TenpoShohinテーブルからは、東京店(000A)が、商品ID「0001」、「0002」、「0003」の3つの商品を取り扱っている

    => これらの具体的な商品名(shohin_mei)、販売単価(hanbai_tanka)などはTenpoShohinテーブルからはわからない

    => これらはShohinテーブルにしか存在しない列のため

  * Shohinテーブルから、商品名(shohin_mei)と販売単価(hanbai_tanka)の列を持ってきて、TenpoShohinテーブルにくっつける

```sql
SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, S.hanbai_tanka
  FROM TenpoShohin AS TS INNER JOIN Shohin AS S
    ON TS.shohin_id = S.shohin_id;
```

```sql
 tenpo_id | tenpo_mei | shohin_id |   shohin_mei   | hanbai_tanka
----------+-----------+-----------+----------------+--------------
 000A     | 東京      | 0001      | Tシャツ        |         1000
 000A     | 東京      | 0002      | 穴あけパンチ   |          500
 000A     | 東京      | 0003      | カッターシャツ |         4000
 000B     | 名古屋    | 0002      | 穴あけパンチ   |          500
 000B     | 名古屋    | 0003      | カッターシャツ |         4000
 000B     | 名古屋    | 0004      | 包丁           |         3000
 000B     | 名古屋    | 0006      | フォーク       |          500
 000B     | 名古屋    | 0007      | おろしがね     |          880
 000C     | 大阪      | 0003      | カッターシャツ |         4000
 000C     | 大阪      | 0004      | 包丁           |         3000
 000C     | 大阪      | 0006      | フォーク       |          500
 000C     | 大阪      | 0007      | おろしがね     |          880
 000D     | 福岡      | 0001      | Tシャツ        |         1000
```



### 内部結合のポイント

1. FROM句

  * これまで1つのテーブルしか描いてこなかったFROM句に、TenpoShohinとShohinと言う2つのテーブルを書いている

  ```sql
  FROM TenpoShohin AS TS INNER JOIN Shohin AS S
  ```

  * `INNER JOIN`：2つのテーブルを可能にする

    * `TS`と`S`は、テーブルの別名

    * テーブル名が長いとSQL文が読みにくくなるので、別名をつけることが一般的な慣習となっている

1. ON句

  * `ON`の後に記述されている結合条件

  ```sql
  ON TS.shohin_id = S.shohin_id
  ```

  * ここで、2つのテーブルを結びつける列(`結合キー`)を指定する

  * この場合は、商品ID(shohin_id)が該当する

  * `ON`は、結合条件専用の`WHERE`のような役割

    => WHERE句と同じように、複数の結合キーを指定するために、`AND`、`OR`も使うことができる

  * この`ON`句は、内部結合を行う際には記述が必要(ないとエラーになる)

  * また、書く場所は`FROM`と`WHERE`の間でなければならない

  ![ONによるテーブルの足し算のイメージ](./images/ONによるテーブルの足し算のイメージ.png)

  * なお、結合条件は「`=`」で記述すると考えても良い

    => 構文的には「`<=`」や`BETWEEN`のような述語を使うことも可能だが、実務では9割型「`=`」の結合で用が足りる

  * 最初には、「`=`」を使うことを考える(キーを結びつけることで、2つのテーブルの同じキーを持つレコード同士が、結合される)

1. SELECT句

  * `SELECT`句で指定する列

  ```sql
  SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, S.hanbai_tanka
  ```

  * SELECT句では、`TS.tenpo_id`や`S.hanbai_tanka`のように、「`<テーブルの別名>.<列名>`」と言う記述の仕方をする

  * 結合の場合、どの列をどのテーブルから持ってきているか混乱しがちなので、それを防ぐための措置

    => 構文的には、2つのテーブルに存在している列(shohin_id)以外は「tenpo_id」のように列名だけ書いてもエラーにならない



### 内部結合とWHERE句を組み合わせる

* 全店舗だけでなく、東京店(000A)だけを結果に得たいなら、これまでと同じようにWHERE句の条件を追加する

* 例)全店舗の結果から、東京店だけのレコードに制限する

```sql
SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, S.hanbai_tanka
  FROM TenpoShohin AS TS INNER JOIN Shohin AS S
    ON TS.shohin_id = S.shohin_id
 WHERE TS.tenpo_id = '000A';
```

```sql
 tenpo_id | tenpo_mei | shohin_id |   shohin_mei   | hanbai_tanka
----------+-----------+-----------+----------------+--------------
 000A     | 東京      | 0001      | Tシャツ        |         1000
 000A     | 東京      | 0002      | 穴あけパンチ   |          500
 000A     | 東京      | 0003      | カッターシャツ |         4000
```

* このように、結合演算は一度テーブル同士を結合してしまえば、`WHERE`、`GROUP BY`、`HAVING`、`ORDER BY`といった道具をこれまで同様に使うことができる

* イメージとしては、結合によって新たにもう一つテーブルが作られて、それに対してWHERE句などを使っていると考える

* ビューを作ることで、テーブルをずっと残すことができる



## 外部結合：OUTER JOIN

* `OUTER JOIN`：外部結合

* ShohinテーブルとTenpoShohinテーブルを、2つのテーブルを`ON`句の結合キーでつなぎ、2つのテーブルから同時に列を選択する

* 結果は、内部結合と異なる

```sql
SELECT TS.tenpo_id, TS.tenpo_mei, S.shohin_id, S.shohin_mei, S.hanbai_tanka
  FROM TenpoShohin AS TS RIGHT OUTER JOIN Shohin AS S
    ON TS.shohin_id = S.shohin_id;
```

```sql
 tenpo_id | tenpo_mei | shohin_id |   shohin_mei   | hanbai_tanka
----------+-----------+-----------+----------------+--------------
 000A     | 東京      | 0001      | Tシャツ        |         1000
 000A     | 東京      | 0002      | 穴あけパンチ   |          500
 000A     | 東京      | 0003      | カッターシャツ |         4000
 000B     | 名古屋    | 0002      | 穴あけパンチ   |          500
 000B     | 名古屋    | 0003      | カッターシャツ |         4000
 000B     | 名古屋    | 0004      | 包丁           |         3000
 000B     | 名古屋    | 0006      | フォーク       |          500
 000B     | 名古屋    | 0007      | おろしがね     |          880
 000C     | 大阪      | 0003      | カッターシャツ |         4000
 000C     | 大阪      | 0004      | 包丁           |         3000
 000C     | 大阪      | 0006      | フォーク       |          500
 000C     | 大阪      | 0007      | おろしがね     |          880
 000D     | 福岡      | 0001      | Tシャツ        |         1000
          |           | 0008      | ボールペン     |          100     /* 内部結合の時はなかった！ */
          |           | 0005      | 圧力鍋         |         6800    /* 内部結合の時はなかった！ */
```



### 外部結合のポイント

1. 片方のテーブルの情報が全て出力される

  * 「内部結合」の結果は13行であったが、外部結合の結果は15行であった(2行増えた)

  * 追加で選択されたのは、「圧力鍋」と「ボールペン」の2行

  * これらの商品はTenpoShohinテーブルには存在していない(現在どの店でも扱っていない)

    => 「内部結合」では、2つのテーブルの両方に存在している情報だけを選択するので、Shohinテーブルにしか存在しない2つの商品は、結果に出てこない

  * 「外部結合」では、どちらか一方のテーブルに存在しているならば、そのテーブルの情報が欠けることなく出力される

    => 例として、行数固定の定型帳簿を作りたい場合(内部結合ならば、店舗の在庫状況によって結果行数が変動するために、帳簿のレイアウトにきちんと収まらない)

  * テーブルからわからない情報は、`NULL`で結果に現れる

    => 外部結合は、「元のテーブルにない(テーブルの外側から)情報を結果に持ってくる」と言う意味

    => 内部結合は、「テーブルの内部だけから情報を持ってくる」と言う意味

1. どちらのテーブルをマスタにするか

  * 外部結合で重要なことは、もう一つあり、どちらのテーブルを主(マスタ)とみなすか

  * 選択結果には、マスタに指定されたテーブルの情報が全て出てくる

  * これを指定するキーワードが「`LEFT`」と「`RIGHT`」

  * 名前そのまま、`LEFT`を使えば、FROM句で左側に書いたテーブルをマスタとする

  * `RIGHT`を使えば、右側のテーブルをマスタに使う

  * 例)`RIGHT`を使って、右側のテーブル(Shohin)をマスタにする

  ```sql
  SELECT TS.tenpo_id, TS.tenpo_mei, S.shohin_id, S.shohin_mei, S.hanbai_tanka
    FROM Shohin AS S LEFT OUTER JOIN TenpoShohin AS TS
      ON TS.shohin_id = S.shohin_id;
  ```

  * 機能的には差がないので、どちらを使っても構わないが、一般的には`LEFT`を使う場合が多い



## 3つ以上のテーブルを使った結合

* 例)ZaikoShohin(在庫商品)テーブル

|souko_id(倉庫ID)|shohin_id(商品ID)|zaiko_suryo(在庫数量)|
|---------------|-----------------|--------------------|
|      S001     |       0001      |          0         |
|      S001     |       0002      |        120         |
|      S001     |       0003      |        200         |
|      S001     |       0004      |          3         |
|      S001     |       0005      |          0         |
|      S001     |       0006      |         99         |
|      S001     |       0007      |        999         |
|      S001     |       0008      |        200         |
|      S002     |       0001      |         10         |
|      S002     |       0002      |         25         |
|      S002     |       0003      |         34         |
|      S002     |       0004      |         19         |
|      S002     |       0005      |         99         |
|      S002     |       0006      |          0         |
|      S002     |       0007      |          0         |
|      S002     |       0008      |         18         |

```sql
/* DDL：テーブル作成 */
CREATE TABLE ZaikoShohin
(souko_id     CHAR(4) NOT NULL,
 shohin_id    CHAR(4) NOT NULL,
 zaiko_suryo  INTEGER NOT NULL,
 PRIMARY KEY (souko_id, shohin_id));

/* DML：データ登録 */
BEGIN TRANSACTION;

INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0001', 0);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0002', 120);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0003', 200);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0004', 3);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0005', 0);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0006', 99);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0007', 999);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S001', '0008', 200);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0001', 10);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0002', 25);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0003', 34);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0004', 19);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0005', 99);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0006', 0);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0007', 0);
INSERT INTO ZaikoShohin (souko_id, shohin_id, zaiko_suryo) VALUES ('S002', '0008', 18);

COMMIT;
```

* 先ほどの結果に、倉庫「S001」に保管されている在庫数の列も追加する

  => 結合は「内部結合」、結合キーは商品ID(shohin_id)

```sql
SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, S.hanbai_tanka, ZS.zaiko_suryo
  FROM TenpoShohin AS TS INNER JOIN Shohin AS S
    ON TS.shohin_id = S.shohin_id
       INNER JOIN ZaikoShohin AS ZS
          ON TS.shohin_id = ZS.shohin_id
 WHERE ZS.souko_id = 'S001';
```

```sql
 tenpo_id | tenpo_mei | shohin_id |   shohin_mei   | hanbai_tanka | zaiko_suryo
----------+-----------+-----------+----------------+--------------+-------------
 000A     | 東京      | 0001      | Tシャツ        |         1000 |           0
 000A     | 東京      | 0002      | 穴あけパンチ   |          500 |         120
 000A     | 東京      | 0003      | カッターシャツ |         4000 |         200
 000B     | 名古屋    | 0002      | 穴あけパンチ   |          500 |         120
 000B     | 名古屋    | 0003      | カッターシャツ |         4000 |         200
 000B     | 名古屋    | 0004      | 包丁           |         3000 |           3
 000B     | 名古屋    | 0006      | フォーク       |          500 |          99
 000B     | 名古屋    | 0007      | おろしがね     |          880 |         999
 000C     | 大阪      | 0003      | カッターシャツ |         4000 |         200
 000C     | 大阪      | 0004      | 包丁           |         3000 |           3
 000C     | 大阪      | 0006      | フォーク       |          500 |          99
 000C     | 大阪      | 0007      | おろしがね     |          880 |         999
 000D     | 福岡      | 0001      | Tシャツ        |         1000 |           0
```

* 先ほどの内部結合を行ったFROM句に、再度`INNER JOIN`によってZaikoShohinテーブルを追加する

  ```sql
  FROM TenpoShohin AS TS INNER JOIN Shohin AS S
    ON TS.shohin_id = S.shohin_id
      INNER JOIN ZaikoShohin AS ZS
          ON TS.shohin_id = ZS.shohin_id
  ```

* 結合条件として、ShohinテーブルとTenpoShohinテーブルの商品ID(shohin_id)を等号で結んでいる

* ShohinテーブルはすでにTenpoShohinテーブルと結合されているため、ShohinテーブルとZaikoShohinテーブルを統合する必要がない

* 結合するテーブルが4つ、5つ...と増えていっても、`INNER JOIN`でテーブルを追加していくやり方は同じ



## クロス結合：CROSS JOIN

* `CROSS JOIN`：クロス結合

* 業務で使うことは稀だが、結合演算の基礎

* 例)ShohinテーブルとTenpoShohinテーブルをクロス結合する

```sql
SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei
  FROM TenpoShohin AS TS CROSS JOIN Shohin AS S;
```

```sql
 tenpo_id | tenpo_mei | shohin_id |   shohin_mei   
----------+-----------+-----------+----------------
 000A     | 東京      | 0001      | Tシャツ
 000A     | 東京      | 0002      | Tシャツ
 000A     | 東京      | 0003      | Tシャツ
 000B     | 名古屋    | 0002      | Tシャツ
 000B     | 名古屋    | 0003      | Tシャツ
 000B     | 名古屋    | 0004      | Tシャツ
 000B     | 名古屋    | 0006      | Tシャツ
 000B     | 名古屋    | 0007      | Tシャツ
 000C     | 大阪      | 0003      | Tシャツ
 000C     | 大阪      | 0004      | Tシャツ
 000C     | 大阪      | 0006      | Tシャツ
 000C     | 大阪      | 0007      | Tシャツ
 000D     | 福岡      | 0001      | Tシャツ
 000A     | 東京      | 0001      | 穴あけパンチ
 000A     | 東京      | 0002      | 穴あけパンチ
 000A     | 東京      | 0003      | 穴あけパンチ
 000B     | 名古屋    | 0002      | 穴あけパンチ
 000B     | 名古屋    | 0003      | 穴あけパンチ
 000B     | 名古屋    | 0004      | 穴あけパンチ
 000B     | 名古屋    | 0006      | 穴あけパンチ
 000B     | 名古屋    | 0007      | 穴あけパンチ
 000C     | 大阪      | 0003      | 穴あけパンチ
 000C     | 大阪      | 0004      | 穴あけパンチ
 000C     | 大阪      | 0006      | 穴あけパンチ
 000C     | 大阪      | 0007      | 穴あけパンチ
 000D     | 福岡      | 0001      | 穴あけパンチ
 000A     | 東京      | 0001      | カッターシャツ
 000A     | 東京      | 0002      | カッターシャツ
 000A     | 東京      | 0003      | カッターシャツ
 000B     | 名古屋    | 0002      | カッターシャツ
 000B     | 名古屋    | 0003      | カッターシャツ
 000B     | 名古屋    | 0004      | カッターシャツ
 000B     | 名古屋    | 0006      | カッターシャツ
 000B     | 名古屋    | 0007      | カッターシャツ
 000C     | 大阪      | 0003      | カッターシャツ
 000C     | 大阪      | 0004      | カッターシャツ
 000C     | 大阪      | 0006      | カッターシャツ
 000C     | 大阪      | 0007      | カッターシャツ
 000D     | 福岡      | 0001      | カッターシャツ
 000A     | 東京      | 0001      | 包丁
000A     | 東京      | 0002      | 包丁
000A     | 東京      | 0003      | 包丁
000B     | 名古屋    | 0002      | 包丁
000B     | 名古屋    | 0003      | 包丁
000B     | 名古屋    | 0004      | 包丁
000B     | 名古屋    | 0006      | 包丁
000B     | 名古屋    | 0007      | 包丁
000C     | 大阪      | 0003      | 包丁
000C     | 大阪      | 0004      | 包丁
000C     | 大阪      | 0006      | 包丁
000C     | 大阪      | 0007      | 包丁
000D     | 福岡      | 0001      | 包丁
000A     | 東京      | 0001      | 圧力鍋
000A     | 東京      | 0002      | 圧力鍋
000A     | 東京      | 0003      | 圧力鍋
000B     | 名古屋    | 0002      | 圧力鍋
000B     | 名古屋    | 0003      | 圧力鍋
000B     | 名古屋    | 0004      | 圧力鍋
000B     | 名古屋    | 0006      | 圧力鍋
000B     | 名古屋    | 0007      | 圧力鍋
000C     | 大阪      | 0003      | 圧力鍋
000C     | 大阪      | 0004      | 圧力鍋
000C     | 大阪      | 0006      | 圧力鍋
000C     | 大阪      | 0007      | 圧力鍋
000D     | 福岡      | 0001      | 圧力鍋
000A     | 東京      | 0001      | フォーク
000A     | 東京      | 0002      | フォーク
000A     | 東京      | 0003      | フォーク
000B     | 名古屋    | 0002      | フォーク
000B     | 名古屋    | 0003      | フォーク
000B     | 名古屋    | 0004      | フォーク
000B     | 名古屋    | 0006      | フォーク
000B     | 名古屋    | 0007      | フォーク
000C     | 大阪      | 0003      | フォーク
000C     | 大阪      | 0004      | フォーク
000C     | 大阪      | 0006      | フォーク
000C     | 大阪      | 0007      | フォーク
000D     | 福岡      | 0001      | フォーク
000A     | 東京      | 0001      | おろしがね
000A     | 東京      | 0002      | おろしがね
000A     | 東京      | 0003      | おろしがね
000B     | 名古屋    | 0002      | おろしがね
000B     | 名古屋    | 0003      | おろしがね
000B     | 名古屋    | 0004      | おろしがね
000B     | 名古屋    | 0006      | おろしがね
000B     | 名古屋    | 0007      | おろしがね
000C     | 大阪      | 0003      | おろしがね
000C     | 大阪      | 0004      | おろしがね
000C     | 大阪      | 0006      | おろしがね
000C     | 大阪      | 0007      | おろしがね
000D     | 福岡      | 0001      | おろしがね
000A     | 東京      | 0001      | ボールペン
000A     | 東京      | 0002      | ボールペン
000A     | 東京      | 0003      | ボールペン
000B     | 名古屋    | 0002      | ボールペン
000B     | 名古屋    | 0003      | ボールペン
000B     | 名古屋    | 0004      | ボールペン
000B     | 名古屋    | 0006      | ボールペン
000B     | 名古屋    | 0007      | ボールペン
000C     | 大阪      | 0003      | ボールペン
000C     | 大阪      | 0004      | ボールペン
000C     | 大阪      | 0006      | ボールペン
000C     | 大阪      | 0007      | ボールペン
000D     | 福岡      | 0001      | ボールペン
```

* クロス結合に置いて、テーブル同士を結びつける集合演算子が「`CROSS JOIN`(直積)」

* クロス結合の場合、内部結合や外部結合で使った`ON`句は指定することができない

  => クロス結合は、2つのテーブルのレコードについて、全ての組み合わせを作る結合方法のため

  * 結果の行数は常に、2つのテーブル行数の掛け算になる

* 今回の場合は、「TenpoShohinテーブル(13行)×Shohinテーブル(8行)＝104行」の結果が作られる

* 集合演算の掛け算は、「クロス結合」のこと

* 内部結合は、必ずこのクロス結合の一部分になる

  => 「内部」とは、「クロス結合の結果に含まれる部分を持つ」と言う意味に解釈できる

* 外部結合も、「クロス結合の結果に含まれない部分を持つ」と言う意味に解釈できる

* クロス結合は、結果にほとんど使い道がないこと、演算の時に多くの時間とマシンパワーを使うことから、実務で使われない



## 結合の方言と古い構文

* SQLの結合は、一番方言が咲き乱れている分野で、古い構文も知る必要がある

* 最初に出力した内部結合の文は、以下のように書き換えることができる

```sql
SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, S.hanbai_tanka
  FROM TenpoShohin TS, Shohin S
 WHERE TS.shohin_id = S.shohin_id
   AND TS.tenpo_id = '000A';
```

* この書き方でも、出力結果は同じになるが、

  1. 結合の種類が内部結合か外部結合か一目でわからない

  1. 結合条件がWHERE句で書かれているので、どこまでが結合条件で、どこからがレコードの制限条件なのかすぐにわからない

  1. いずれこの構文が消える可能性がある

  ために、使用するのしないことがベスト



| 版 |   年月日  |
|----|----------|
|初版|2019/01/13|
