# 4-6.メソッドの可視性と組み込み関数

* `public`、`protected`、`private`の振る舞いを考える

## 4-6-1.メソッドの可視性

## 4-6-2.`Kernel`モジュールと関数

### `Kernel`モジュール

* `puts`や`proc`など、これまで組み込み関数と呼んできたもの

* クラス定義の外側では、`self`の参照するクラスは`Object`クラス

```ruby
>> self.class
=> Object
```

* `Object`クラスは、`Kernel`モジュールをインクルードしているので、どのクラスからでも`Kernel`モジュールで定義されたメソッドを呼び出せる

* `Kernel`モジュールの多くのメソッドは、`private`メソッドなので、レシーバーを指定して呼び出せない

```ruby
>> Kernel.private_instance_methods.grep(/^pr/)
=> [:printf, :print, :proc]

# レシーバを指定した場合
>> self.p
NoMethodError: private method `p` called for main:Object
```

* Rubyの組み込み関数と同等のものを自身で定義したい場合は、`Kernel`モジュールに`private`メソッドを定義することができる

```ruby
>> module Kernel
>>   private
>>   def my_func; end
>> end
=> :my_func
>> my_func
=> nil
>> self.my_func
NoMethodError: private method `my_func` called for main:Object
```

* ただし、特に理由がない場合は`Object`クラスに`private`メソッドを追加する(同等の効果がある)

```ruby
>> class Object
>>   private
>>   def my_func; end
>> end
=> :my_func
>> my_func
=> nil
>> self.my_func
NoMethodError: private method `my_func` called for main:Object
```

|版|年/月/日|
|--|-------|
|初版|2018/10/|
